import{_ as $,j,r as n,k as B,l as I,m as K,c as v,o as _,a as t,i as V,t as P,g as R,n as Z,b as p,F as O}from"./BWpRghuz.js";import{_ as q}from"./x00h1FS_.js";import{_ as G}from"./BsWkCcHW.js";import"./DKYKsfuH.js";import"./D0YskpLl.js";const H={class:"zoomable-map"},J={class:"map-controls"},Q=["disabled"],W=["disabled"],oo={class:"zoom-level"},to={class:"map-container"},so=["src"],eo={key:0,class:"error"},no={__name:"MapAddress",props:{initialCoords:{type:Array,default:()=>[55.012068,82.93306]},mobileCoords:{type:Array,default:()=>[55.012068,82.93306]},pointCoords:{type:Array,default:()=>[55.012068,82.93306]},initialZoom:{type:Number,default:13},width:{type:Number,default:600},height:{type:Number,default:400}},setup(f){const r=j().public.yandexStaticApiKey,a=f,e=n(a.initialZoom),u=n(a.initialCoords),S=n(a.pointCoords),i=n(!0),d=n(!1),c=n(!1),h=n(0),g=n(0),m=n([0,0]),T=B(()=>{const o=new URLSearchParams({l:"map",ll:u.value.join(","),z:e.value.toString(),size:`${a.width},${a.height}`,pt:`${S.value.join(",")},vkbkm`});return r?(o.append("apikey",r),`https://static-maps.yandex.ru/v1?${o.toString()}`):`https://static-maps.yandex.ru/1.x/?${o.toString()}`}),y=(o,s)=>{c.value=!0,h.value=o,g.value=s,m.value=[...u.value]},b=(o,s)=>{if(!c.value)return;const F=o-h.value,U=s-g.value,D=1e-5*(18-e.value);u.value=[m.value[0]-F*D,m.value[1]+U*D]},k=()=>{c.value=!1},A=o=>{y(o.clientX,o.clientY)},E=o=>{b(o.clientX,o.clientY)},C=()=>{k()},N=o=>{o.touches.length===1&&y(o.touches[0].clientX,o.touches[0].clientY)},X=o=>{o.touches.length===1&&(b(o.touches[0].clientX,o.touches[0].clientY),o.preventDefault())},M=()=>{k()},w=()=>{e.value<18&&(e.value++,i.value=!0)},x=()=>{e.value>1&&(e.value--,i.value=!0)},Y=()=>{i.value=!1,d.value=!1},L=()=>{d.value=!0,i.value=!1},z=o=>{(o.key==="+"||o.key==="=")&&w(),o.key==="-"&&x()};return I(()=>{window.addEventListener("keydown",z)}),K(()=>{window.removeEventListener("keydown",z)}),(o,s)=>(_(),v("div",H,[t("div",J,[t("button",{onClick:w,disabled:e.value>=18,class:"zoom-btn"},s[1]||(s[1]=[t("span",null,"+",-1)]),8,Q),t("button",{onClick:x,disabled:e.value<=1,class:"zoom-btn"},s[2]||(s[2]=[t("span",null,"-",-1)]),8,W),t("span",oo,"Масштаб: "+P(e.value),1)]),t("div",to,[t("img",{src:T.value,alt:"Интерактивная карта",class:Z(["map-image",{grabbing:c.value}]),onLoad:Y,onError:L,onMousedown:A,onMousemove:E,onMouseup:C,onMouseleave:C,onTouchstart:N,onTouchmove:X,onTouchend:M,onTouchcancel:M,onDragstart:s[0]||(s[0]=R(()=>{},["prevent"]))},null,42,so),s[3]||(s[3]=t("div",{class:"local"},null,-1))]),d.value?(_(),v("div",eo,"Ошибка загрузки")):V("",!0)]))}},ao=$(no,[["__scopeId","data-v-97f55910"]]),lo={},ro={class:"container"},io={class:"flex"};function co(f,l){const r=ao,a=q,e=G;return _(),v(O,null,[t("div",ro,[l[0]||(l[0]=t("h2",null,"Контакты",-1)),l[1]||(l[1]=t("div",{class:"contacts"},[t("a",{class:"number",href:"tel:+79538617920"},"+7 953 861 79 20"),t("div",{class:"address"},"Новосибирск, ул. Зыряновская д. 18/1 оф. 9"),t("a",{class:"mail",href:"mailto:info@everon-pro.ru"},"info@everon-pro.ru")],-1)),t("div",io,[p(r),p(a)])]),p(e)],64)}const fo=$(lo,[["render",co],["__scopeId","data-v-783dd89e"]]);export{fo as default};
